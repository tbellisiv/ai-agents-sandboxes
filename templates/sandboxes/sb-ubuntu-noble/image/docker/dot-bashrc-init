
# persist history
export PROMPT_COMMAND="history -a"
export HISTSIZE=10000
export HISTFILESIZE=20000


# append to the history file, don't overwrite it
shopt -s histappend

# git-prompt setup
#Source: https://www.glukhov.org/post/2025/12/adding-git-repo-details-to-bash-prompt/

# Ensure git-prompt.sh is sourced (adjust path if necessary)
. /usr/share/bash-completion/completions/git
. /usr/lib/git-core/git-sh-prompt

# Configure Git prompt
export GIT_PS1_SHOWDIRTYSTATE=1
export GIT_PS1_SHOWUNTRACKEDFILES=1
export GIT_PS1_SHOWUPSTREAM="auto"
export GIT_PS1_SHOWCOLORHINTS=1
export GIT_PS1_DESCRIBE_STYLE="default"
export GIT_PS1_SHOWSTASHSTATE=1

# shell prompt
#History line number, user, host, git-prompt info, relative PWD
export PROMPT_DIRTRIM=2
export PS1="\n\[\033[1;36m\][\!] \[\033[1;35m\]SB \[\033[0;36m\]\u@\h\[\033[00m\] \[\033[00m\]\$(__git_ps1 \"(%s)\") \[\033[1;34m\]\w\[\033[1;31m\] \[\033[00m\]\$ "    

#export PS1="\[\033[90m\]\u\[\033[00m\] \[\033[32m\]\w\[\033[00m\] "

# aliases
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'
alias l1='ls -1'
alias h=history
alias hr="fc -ln 1 | sed 's/^\s*//'" #show "raw" history (i.e without line numbers and leading whitespace)


# FZF keybindings
[ -f /usr/share/doc/fzf/examples/key-bindings.bash ] && source /usr/share/doc/fzf/examples/key-bindings.bash

# git config
git config --global core.autocrlf input  #ensure LF's stay in repo, 

export PATH=$HOME/.local/bin:$PATH
